# 端口

* port 
* 只要是做服务程序，都必须监听一个端口
* 改端口是其他程序和该服务器通讯的通道
* 一个电脑有65535个端口1-66535
* 一旦一个端口被某个程序监听(占用)，那么其他程序就不能在该端口监听
* 端口分配是随机的

## 分类

* 0 保留端口
* 1- 1024 是固定端口
  * 21     ： ftp使用
  * 22     ：SSH远程登录协议
  * 23     ： telnet 使用
  * 25     ：smtp 服务使用
  * 80     ：iis 使用
  * 7       ：echo 使用
* 1025 - 65535 动态端口
  * 这些端口，程序员可以使用
  * 一般人不用40000以上（有的说小的用得少）

## 注意

* 在计算机(尤其是做服务器)要尽可能的少开端口
* 一个程序只能有

## 检查

* 管理员身份运行

```go
// 查看本机有哪些端口在监听
Cnetstat -nb 
// 查看监听端口的pid,在结合任务管理器关闭不安全的端口
Cnetstat -anb 
```

# ip

* 每个 ip 都对应 65535 个端口

# tcp socket编程

* 简称socket编程

## 服务端的处理流程

* 监听端口
* 接收客户端的 tcp 连接，建立客户端和服务端的链接
* 创建 goroutine ，处理该链接的请求（通常客户端会通过链接发送请求包）

## 客户端的处理流程

* 建立与服务器的链接
* 发送请求数据，接收服务器端返回的数据结果
* 关闭链接

# 补充

## 1.telnet

```go
1.专门测试一个端口是否在链接
    telnet www.baidu.com 80   
2.退出
    quite
3.错误
// telnet不是内部或者外部命令，也不是可运行的程序”。
    这是因为本机的telnet客户端没有开启
    直接搜索telnet，然后开启
```

![1594704250680](D:\desk\知识库\上库\img_source\8ccff4741566b853559a4e59c1632ba177d85c7d.png)

## 2.socket

* socket 本质上也是文件，也是在磁盘上存着（一切皆文件）
