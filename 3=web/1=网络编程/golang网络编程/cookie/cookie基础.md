## cookie

### 是什么

*   Cookie实际上是一小段的文本信息（key-value格式）
*   服务器存储在客户端的、体积较小的信息
*   本意是用来克服 HTTP 的无状态性，但不是唯一目的

### 使用

*   cookie 记录你的用户名、密码、浏览的网页等信息，当你在来这个网站的时候，服务器会先看它上次有无留下的 cookie，有的话就直接读取 cookie 中内容，进行判断，并送出响应的内容
*   

### 为什么

*   HTTP协议本身是无状态的。什么是无状态呢，即服务器无法判断用户身份
*   客户端向服务器发起请求，
    *   如果服务器需要记录该用户状态，就使用response向客户端浏览器颁发一个Cookie。
    *   客户端浏览器会把Cookie保存起来。
    *   当浏览器再请求该网站时，浏览器把请求的网址连同该Cookie一同提交给服务器。服务器检查该Cookie，以此来辨认用户状态。

## 种类

* 会话 cookie
    * 别称 ：临时 cookie
* 持久 cookie
    * 其他 cookie 都是 持久 cookie 的变种

## 机制

*   客户端第一次向服务端发送请求 
    *   服务端创建Cookie
*   服务端发送一个 HttpResponse 响应到客户端
    *   响应头中有 set-Cookie 信息
*   客户端存储 cookie 
    *   随后发送请求时，请求头中就包含 Cookie 
*   服务器得到 cookie
    *   根据 cookie信息 区分不同用户

![image-20201121183927975](../../../../img_source/image-20201121183927975.png)








































































